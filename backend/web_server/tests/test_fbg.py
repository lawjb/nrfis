from starlette.testclient import TestClient

from ..main import app

client = TestClient(app)


def test_get_basement_data():
    response = client.get(
        "/fbg/basement/?data-type=raw-wavelength&start-time=2020-01-01T17%3A28%3A14.723333&end-time=2020-01-02T17%3A28%3A14.723333"
    )
    assert response.status_code == 200
    assert response.json() == [
        {
            "timestamp": "2020-01-02T10:00:00",
            "data": {
                "A1": 125.5,
                "A2": 125.5,
                "A3": 125.5,
                "A4": 125.5,
                "A5": 125.5,
                "A6": 125.5,
                "A7": 125.5,
                "A8": 125.5,
                "A9": 125.5,
                "A10": 125.5,
                "A11": 125.5,
                "A12": 125.5,
                "A13": 125.5,
                "A14": 125.5,
                "A15": 125.5,
                "A16": 125.5,
                "A17": 125.5,
                "A18": 125.5,
                "A19": 125.5,
                "A20": 125.5,
                "B1": 125.5,
                "B2": 125.5,
                "B3": 125.5,
                "B4": 125.5,
                "B5": 125.5,
                "B6": 125.5,
                "B7": 125.5,
                "B8": 125.5,
                "B9": 125.5,
                "B10": 125.5,
                "B11": 125.5,
                "B12": 125.5,
                "B13": 125.5,
                "B14": 125.5,
                "B15": 125.5,
                "B16": 125.5,
                "B17": 125.5,
                "B18": 125.5,
                "B19": 125.5,
                "B20": 125.5,
                "C1": 125.5,
                "C2": 125.5,
                "C3": 125.5,
                "C4": 125.5,
                "C5": 125.5,
                "C6": 125.5,
                "C7": 125.5,
                "C8": 125.5,
                "C9": 125.5,
                "C10": 125.5,
                "C11": 125.5,
                "C12": 125.5,
                "C13": 125.5,
                "C14": 125.5,
                "C15": 125.5,
                "C16": 125.5,
                "C17": 125.5,
                "C18": 125.5,
                "C19": 125.5,
                "C20": 125.5,
                "D1": 125.5,
                "D2": 125.5,
                "D3": 125.5,
                "D4": 125.5,
                "D5": 125.5,
                "D6": 125.5,
                "D7": 125.5,
                "D8": 125.5,
                "D9": 125.5,
                "D10": 125.5,
                "D11": 125.5,
                "D12": 125.5,
                "D13": 125.5,
                "D14": 125.5,
                "D15": 125.5,
                "D16": 125.5,
                "D17": 125.5,
                "D18": 125.5,
                "D19": 125.5,
                "D20": 125.5,
                "E1": 125.5,
                "E2": 125.5,
                "E3": 125.5,
                "E4": 125.5,
                "E5": 125.5,
                "E6": 125.5,
                "F1": 125.5,
                "F2": 125.5,
                "F3": 125.5,
                "F4": 125.5,
                "F5": 125.5,
                "F6": 125.5,
                "G1": 125.5,
                "G2": 125.5,
                "G3": 125.5,
                "G4": 125.5,
                "G5": 125.5,
                "G6": 125.5,
                "H1": 125.5,
                "H2": 125.5,
                "H3": 125.5,
                "H4": 125.5,
                "H5": 125.5,
                "H6": 125.5,
                "I1": 125.5,
                "I2": 125.5,
                "I3": 125.5,
                "I4": 125.5,
                "I5": 125.5,
                "I6": 125.5,
                "J1": 125.5,
                "J2": 125.5,
                "J3": 125.5,
                "J4": 125.5,
            },
        }
    ]
